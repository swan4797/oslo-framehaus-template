// ========================================
// SEARCH BAR BASE STYLES
// Core structural styles for search components
// ========================================

@use '../../tokens/colors' as colors;
@use '../../tokens/effects' as effects;
@use '../../tokens/spacing' as spacing;
@use '../../tokens/typography' as typography;
@use '../../mixins' as *;

// ----------------------------------------
// SEARCH BAR CONTAINER
// ----------------------------------------

.search-bar {
  width: 100%;

  // ----------------------------------------
  // FORM
  // ----------------------------------------

  &__form {
    display: flex;
    flex-direction: column;
    gap: spacing.$spacing-5;
  }

  // ----------------------------------------
  // LISTING TYPE TOGGLE
  // ----------------------------------------

  &__toggle-group {
    margin-bottom: spacing.$spacing-2;
  }

  &__toggle-buttons {
    display: flex;
    gap: spacing.$spacing-2;
    padding: spacing.$spacing-2;
    background: colors.$color-bg-secondary;
    border-radius: effects.$radius-lg;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.24);
  }

  &__toggle-btn {
    flex: 1;
    cursor: pointer;

    &[data-active="true"] {
      .search-bar__toggle-content {
        background: colors.$color-bg-secondary;
        color: colors.$color-primary;
        box-shadow: effects.$shadow-md;
      }
    }
  }

  &__toggle-input {
    position: absolute;
    opacity: 0;
    pointer-events: none;
  }

  &__toggle-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: spacing.$spacing-2;
    padding: spacing.$spacing-3 spacing.$spacing-6;
    background: colors.$color-bg-secondary;
    border-radius: effects.$radius-md;
    font-size: typography.$font-size-sm;
    font-weight: typography.$font-weight-semibold;
    color: colors.$color-text-primary;
    transition: all effects.$transition-base;
  }

  &__toggle-icon {
    width: 1rem;
    height: 1rem;
    flex-shrink: 0;
  }

  // ----------------------------------------
  // MAIN FIELDS CONTAINER
  // ----------------------------------------

  &__main-fields {
    display: flex;
    flex-direction: column;
    gap: spacing.$spacing-4;
  }

  // ----------------------------------------
  // ADVANCED TOGGLE
  // ----------------------------------------

  &__advanced-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: spacing.$spacing-2;
    width: 100%;
    padding: spacing.$spacing-4 spacing.$spacing-6;
    background: colors.$color-bg-secondary;
    border: 1px solid colors.$color-border-light;
    border-radius: effects.$radius-lg;
    color: colors.$color-primary;
    font-family: typography.$font-family-body;
    font-size: typography.$font-size-sm;
    font-weight: typography.$font-weight-semibold;
    cursor: pointer;
    transition: background effects.$transition-fast, border-color effects.$transition-fast;

    &:hover {
      background: colors.$color-bg-secondary;
      border-color: colors.$color-primary;
    }

    &.is-active {
      .search-bar__chevron-icon {
        transform: rotate(180deg);
      }
    }
  }

  &__advanced-toggle-icon {
    width: 1rem;
    height: 1rem;
    flex-shrink: 0;
  }

  &__chevron-icon {
    width: 1rem;
    height: 1rem;
    transition: transform effects.$transition-base;
  }

  // ----------------------------------------
  // ADVANCED PANEL
  // ----------------------------------------

  &__advanced-panel {
    display: flex;
    flex-direction: column;
    gap: spacing.$spacing-5;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;

    &.is-open {
      max-height: 2000px;
      opacity: 1;
    }
  }

  // ----------------------------------------
  // ACTION BUTTONS CONTAINER
  // ----------------------------------------

  &__actions {
    display: flex;
    gap: spacing.$spacing-3;
    padding-top: spacing.$spacing-2;

    @include mobile-only {
      flex-direction: column;
    }
  }
}
