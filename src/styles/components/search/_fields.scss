// ========================================
// SEARCH BAR FIELD STYLES
// Form field styling for search components
// ========================================

@use '../../tokens/colors' as colors;
@use '../../tokens/effects' as effects;
@use '../../tokens/spacing' as spacing;
@use '../../tokens/typography' as typography;
@use '../../mixins' as *;

// ----------------------------------------
// SEARCH BAR FIELDS
// ----------------------------------------

.search-bar {

  // ----------------------------------------
  // FIELD GROUP
  // ----------------------------------------

  &__field-group {
    display: flex;
    flex-direction: column;
    gap: spacing.$space-2;
  }

  &__field-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: spacing.$space-4;

    @include sm {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  // ----------------------------------------
  // LABELS
  // ----------------------------------------

  &__label {
    display: flex;
    align-items: center;
    gap: spacing.$space-2;
    font-size: typography.$font-size-sm;
    font-weight: typography.$font-weight-semibold;
    color: colors.$color-text-primary;
  }

  &__label-icon {
    width: 1rem;
    height: 1rem;
    color: colors.$color-text-muted;
    flex-shrink: 0;
  }

  // ----------------------------------------
  // INPUTS & SELECTS
  // ----------------------------------------

  &__input,
  &__select {
    width: 100%;
    height: 48px;
    padding: spacing.$space-3 spacing.$space-4;
    background: transparent;
    border: 1px solid colors.$color-border-light;
    border-radius: effects.$radius-md;
    font-family: typography.$font-family-body;
    font-size: typography.$font-size-sm;
    color: colors.$color-text-primary;
    transition:
      background effects.$transition-fast,
      border-color effects.$transition-fast,
      box-shadow effects.$transition-fast;

    &::placeholder {
      color: colors.$color-text-muted;
    }

    &:hover {
      border-color: colors.$color-border-medium;
    }

    &:focus {
      outline: none;
      background: transparent;
      border-color: colors.$color-primary;
      box-shadow: 0 0 0 3px colors.$color-primary-10;
    }
  }

  &__select {
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right spacing.$space-4 center;
    padding-right: spacing.$space-12;
  }

  // ----------------------------------------
  // CHECKBOX GRID
  // ----------------------------------------

  &__checkbox-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: spacing.$space-3;

    @include sm {
      grid-template-columns: repeat(2, 1fr);
    }

    @include lg {
      grid-template-columns: repeat(1, 1fr);
    }
  }

  // ----------------------------------------
  // CHECKBOX LABEL
  // ----------------------------------------

  &__checkbox-label {
    display: flex;
    align-items: center;
    gap: spacing.$space-3;
    padding: spacing.$space-3 spacing.$space-4;
    background: colors.$color-bg-secondary;
    border: 1px solid colors.$color-border-light;
    border-radius: effects.$radius-md;
    cursor: pointer;
    transition:
      background effects.$transition-fast,
      border-color effects.$transition-fast;

    &:hover {
      background: colors.$color-bg-secondary;
      border-color: colors.$color-border-medium;
    }
  }

  &__checkbox-input {
    position: absolute;
    opacity: 0;
    pointer-events: none;

    &:checked + .search-bar__checkbox-box {
      background: colors.$color-bg-secondary;
      border-color: colors.$color-primary;

      .search-bar__check-icon {
        transform: translate(-50%, -50%) scale(1);
      }
    }
  }

  &__checkbox-box {
    position: relative;
    width: 20px;
    height: 20px;
    background: colors.$color-bg-secondary;
    border: 2px solid colors.$color-border-medium;
    border-radius: effects.$radius-sm;
    flex-shrink: 0;
    transition:
      background effects.$transition-fast,
      border-color effects.$transition-fast;
  }

  &__check-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    color: colors.$color-bg-primary;
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  &__checkbox-text {
    font-size: typography.$font-size-sm;
    font-weight: typography.$font-weight-medium;
    color: colors.$color-text-primary;
  }

  // ----------------------------------------
  // BUTTONS
  // ----------------------------------------

  &__btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: spacing.$space-2;
    padding: spacing.$space-4 spacing.$space-6;
    border: none;
    border-radius: effects.$radius-lg;
    font-family: typography.$font-family-body;
    font-size: typography.$font-size-sm;
    font-weight: typography.$font-weight-semibold;
    text-decoration: none;
    cursor: pointer;
    transition:
      background effects.$transition-fast,
      transform effects.$transition-fast,
      box-shadow effects.$transition-fast;

    // Primary Button
    &--primary {
      background: colors.$color-bg-secondary;
      color: colors.$color-text-light;

      &:hover {
        background: colors.$color-bg-secondary;
        transform: translateY(-2px);
        box-shadow: 0 8px 20px colors.$color-primary-30;
      }

      &:active {
        transform: translateY(0);
      }
    }

    // Secondary Button
    &--secondary {
      background: colors.$color-bg-secondary;
      border: 1px solid colors.$color-border-light;
      color: colors.$color-text-secondary;

      &:hover {
        background: colors.$color-bg-secondary;
        color: colors.$color-text-primary;
      }
    }
  }

  &__btn-icon {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
  }
}
