// ========================================
// SCROLL REVEAL SYSTEM
// Intersection Observer triggered animations
// ========================================

@use 'keyframes';

// ----------------------------------------
// BASE REVEAL STATE
// Elements hidden before being revealed
// ----------------------------------------

[data-reveal] {
  opacity: 0;
  will-change: opacity, transform;
}

// ----------------------------------------
// REVEALED STATE
// Applied when element enters viewport
// ----------------------------------------

[data-reveal].is-revealed {
  animation-duration: 0.7s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

// ----------------------------------------
// DIRECTION VARIANTS
// ----------------------------------------

// Default (up)
[data-reveal=""].is-revealed,
[data-reveal]:not([data-reveal="up"]):not([data-reveal="down"]):not([data-reveal="left"]):not([data-reveal="right"]):not([data-reveal="scale"]):not([data-reveal="fade"]):not([data-reveal="blur"]):not([data-reveal="gentle"]).is-revealed {
  animation-name: reveal-up;
}

[data-reveal="up"].is-revealed {
  animation-name: reveal-up;
}

[data-reveal="down"].is-revealed {
  animation-name: reveal-down;
}

[data-reveal="left"].is-revealed {
  animation-name: reveal-left;
}

[data-reveal="right"].is-revealed {
  animation-name: reveal-right;
}

[data-reveal="scale"].is-revealed {
  animation-name: reveal-scale;
}

[data-reveal="fade"].is-revealed {
  animation-name: reveal-fade;
}

// Premium variants
[data-reveal="blur"].is-revealed {
  animation-name: reveal-blur;
  animation-duration: 0.8s;
}

[data-reveal="gentle"].is-revealed {
  animation-name: reveal-gentle;
  animation-duration: 0.6s;
}

// ----------------------------------------
// STAGGER CHILDREN SYSTEM
// Automatically staggers child animations
// ----------------------------------------

[data-reveal-stagger] {
  > * {
    opacity: 0;
    will-change: opacity, transform;
  }

  &.is-revealed > * {
    animation-name: reveal-up;
    animation-duration: 0.6s;
    animation-fill-mode: both;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  // Stagger delays for children (default: 100ms spacing)
  &.is-revealed > *:nth-child(1) { animation-delay: 0s; }
  &.is-revealed > *:nth-child(2) { animation-delay: 0.1s; }
  &.is-revealed > *:nth-child(3) { animation-delay: 0.2s; }
  &.is-revealed > *:nth-child(4) { animation-delay: 0.3s; }
  &.is-revealed > *:nth-child(5) { animation-delay: 0.4s; }
  &.is-revealed > *:nth-child(6) { animation-delay: 0.5s; }
  &.is-revealed > *:nth-child(7) { animation-delay: 0.6s; }
  &.is-revealed > *:nth-child(8) { animation-delay: 0.7s; }
  &.is-revealed > *:nth-child(9) { animation-delay: 0.8s; }
  &.is-revealed > *:nth-child(10) { animation-delay: 0.9s; }
  &.is-revealed > *:nth-child(11) { animation-delay: 1s; }
  &.is-revealed > *:nth-child(12) { animation-delay: 1.1s; }
}

// Fast stagger variant (50ms spacing)
[data-reveal-stagger="fast"] {
  &.is-revealed > *:nth-child(1) { animation-delay: 0s; }
  &.is-revealed > *:nth-child(2) { animation-delay: 0.05s; }
  &.is-revealed > *:nth-child(3) { animation-delay: 0.1s; }
  &.is-revealed > *:nth-child(4) { animation-delay: 0.15s; }
  &.is-revealed > *:nth-child(5) { animation-delay: 0.2s; }
  &.is-revealed > *:nth-child(6) { animation-delay: 0.25s; }
  &.is-revealed > *:nth-child(7) { animation-delay: 0.3s; }
  &.is-revealed > *:nth-child(8) { animation-delay: 0.35s; }
  &.is-revealed > *:nth-child(9) { animation-delay: 0.4s; }
  &.is-revealed > *:nth-child(10) { animation-delay: 0.45s; }
  &.is-revealed > *:nth-child(11) { animation-delay: 0.5s; }
  &.is-revealed > *:nth-child(12) { animation-delay: 0.55s; }
}

// Slow stagger variant (150ms spacing)
[data-reveal-stagger="slow"] {
  &.is-revealed > *:nth-child(1) { animation-delay: 0s; }
  &.is-revealed > *:nth-child(2) { animation-delay: 0.15s; }
  &.is-revealed > *:nth-child(3) { animation-delay: 0.3s; }
  &.is-revealed > *:nth-child(4) { animation-delay: 0.45s; }
  &.is-revealed > *:nth-child(5) { animation-delay: 0.6s; }
  &.is-revealed > *:nth-child(6) { animation-delay: 0.75s; }
  &.is-revealed > *:nth-child(7) { animation-delay: 0.9s; }
  &.is-revealed > *:nth-child(8) { animation-delay: 1.05s; }
}

// ----------------------------------------
// DATA ATTRIBUTE DELAYS
// For custom delay control
// ----------------------------------------

[data-reveal-delay="100"] { animation-delay: 0.1s; }
[data-reveal-delay="200"] { animation-delay: 0.2s; }
[data-reveal-delay="300"] { animation-delay: 0.3s; }
[data-reveal-delay="400"] { animation-delay: 0.4s; }
[data-reveal-delay="500"] { animation-delay: 0.5s; }
[data-reveal-delay="600"] { animation-delay: 0.6s; }
[data-reveal-delay="700"] { animation-delay: 0.7s; }
[data-reveal-delay="800"] { animation-delay: 0.8s; }

// ----------------------------------------
// DATA ATTRIBUTE DURATIONS
// For custom duration control
// ----------------------------------------

[data-reveal-duration="fast"].is-revealed { animation-duration: 0.4s; }
[data-reveal-duration="normal"].is-revealed { animation-duration: 0.7s; }
[data-reveal-duration="slow"].is-revealed { animation-duration: 1s; }
[data-reveal-duration="slower"].is-revealed { animation-duration: 1.2s; }
