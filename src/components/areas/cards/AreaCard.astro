---
// ========================================
// AREA CARD COMPONENT
// Individual card for displaying an area guide
// ========================================

import type { AreaGuide } from '../../../lib/area-guides'
import { getGuideTitle, getLocationString } from '../../../lib/area-guides'

interface Props {
  area: AreaGuide
  linkText?: string
}

const { area, linkText = 'View Area Guide' } = Astro.props

const displayName = getGuideTitle(area)
const location = getLocationString(area)
const href = `/areas/${area.page_slug}`
---

<a href={href} class="area-card">
  <div class="area-card__image-wrapper">
    {area.hero_image_url ? (
      <img
        src={area.hero_image_url}
        alt={displayName}
        class="area-card__image"
        loading="lazy"
      />
    ) : (
      <div class="area-card__placeholder">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
          <circle cx="12" cy="10" r="3"/>
        </svg>
      </div>
    )}
  </div>
  <div class="area-card__content">
    <h3 class="area-card__title">{displayName}</h3>
    {location && (
      <p class="area-card__location">{location}</p>
    )}
    {area.description && (
      <p class="area-card__description">{area.description}</p>
    )}
    <span class="area-card__link">
      {linkText}
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"/>
        <path d="m12 5 7 7-7 7"/>
      </svg>
    </span>
  </div>
</a>

<style lang="scss">
  @use '../../../styles/components/areas/area-card';
</style>
