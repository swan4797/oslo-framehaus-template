---
// ========================================
// RELATED ARTICLES COMPONENT
// Related articles grid for blog pages
// ========================================

import BlogArticleCard from '../cards/BlogArticleCard.astro'

interface Article {
  article_id: string
  title: string
  slug: string
  excerpt?: string | null
  featured_image_url?: string | null
  featured_image_alt?: string | null
  published_at?: string | null
  author?: {
    full_name: string
    profile_photo_url?: string | null
  } | null
  categories?: Array<{
    category_id: string
    name: string
  }> | null
}

interface Props {
  articles: Article[]
  title?: string
  subtitle?: string
  viewAllLink?: string
  viewAllText?: string
}

const {
  articles,
  title = 'Related Articles',
  subtitle = 'Continue reading our latest insights',
  viewAllLink = '/blog',
  viewAllText = 'View All Articles'
} = Astro.props
---

{articles.length > 0 && (
  <section class="related-section">
    <div class="related-section__container">
      <div class="related-section__header">
        <h2 class="related-section__title">{title}</h2>
        <p class="related-section__subtitle">{subtitle}</p>
      </div>

      <div class="related-section__grid">
        {articles.map(article => (
          <BlogArticleCard article={article} />
        ))}
      </div>

      <div class="related-section__action">
        <a href={viewAllLink} class="related-section__link">
          {viewAllText}
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="5" x2="19" y1="12" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </a>
      </div>
    </div>
  </section>
)}
